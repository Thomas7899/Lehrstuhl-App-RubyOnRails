<div class="container mt-5">
  <div class="students-header text-center mb-5">
    <h1 class="display-4"><i class="bi bi-card-checklist"></i> Klausurergebnisse</h1>
    <p class="lead text-muted">Übersicht aller erfassten Klausurergebnisse.</p>
  </div>

  <% if @klausurergebnisse.any? %>
    <div class="table-responsive">
      <table class="table modern-table align-middle">
        <thead>
          <tr>
            <th>Studierende/r</th>
            <th>Klausur</th>
            <th>Prüfungsdatum</th>
            <th>Punkte</th>
            <th>Note</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <% @klausurergebnisse.each do |ergebnis| %>
            <tr>
              <td><%= ergebnis.student.vorname %> <%= ergebnis.student.nachname %></td>
              <td><%= ergebnis.klausur.titel %></td>
              <td><%= l(ergebnis.pruefungsdatum, format: :long) if ergebnis.pruefungsdatum %></td>
              <td><%= ergebnis.punkte %></td>
              <td><strong><%= ergebnis.note %></strong></td>
              <td><span class="badge bg-<%= ergebnis.status == 'bestanden' ? 'success' : 'danger' %>"><%= ergebnis.status %></span></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <div class="alert alert-info modern-alert text-center">
      <i class="bi bi-info-circle-fill me-2"></i>
      Es sind noch keine Klausurergebnisse erfasst.
    </div>
  <% end %>
</div>

